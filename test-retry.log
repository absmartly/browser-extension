ðŸš€ Starting global test setup...
âœ… Extension already built
âš ï¸  Note: Using existing build. Delete build/chrome-mv3-dev/manifest.json to force rebuild.
âœ… Copied seed.html to build directory
âœ… Copied seed.js to build directory
âœ… Copied local-test-page.html to build directory
âœ… Loaded environment variables from .env.dev.local
âœ… API credentials found in environment
âœ… Global setup completed successfully
---

Running 1 test using 1 worker

[2m[WebServer] [22m(node:5917) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
[2m[WebServer] [22m(Use `node --trace-deprecation ...` to show where the warning was created)
âœ… Test page loaded (test mode enabled)
  ðŸ“‹ Console messages so far: 33
Extension ID: hmdfdmlfegajkklhbiijdpkdbaccnplj

ðŸ“‚ STEP 1: Injecting sidebar
âœ… Sidebar visible

ðŸ“‹ STEP 2: Creating new experiment
  Dispatched click event to Create New Experiment button
  Selecting "From Scratch" option...
  âœ“ Selected "From Scratch" option
  Filled experiment name: E2E Test Experiment 1761075081249
  Selecting Unit Type...
  Selecting Unit Type...
  âœ˜  1 [chromium] â€º tests/e2e/visual-editor-complete.spec.ts:81:7 â€º Visual Editor Complete Workflow â€º Complete workflow: sidebar â†’ experiment â†’ visual editor â†’ actions â†’ save â†’ verify (16.0m)


  1) [chromium] â€º tests/e2e/visual-editor-complete.spec.ts:81:7 â€º Visual Editor Complete Workflow â€º Complete workflow: sidebar â†’ experiment â†’ visual editor â†’ actions â†’ save â†’ verify â€º Create new experiment 

    [31mTest timeout of 60000ms exceeded.[39m

    TimeoutError: locator.waitFor: Timeout 5000ms exceeded.
    Call log:
    [2m  - waiting for locator('#absmartly-sidebar-iframe').contentFrame().locator('#unit-type-select-trigger:not([class*="cursor-not-allowed"])') to be visible[22m


      138 |     const unitTypeTrigger = sidebar.locator('#unit-type-select-trigger')
      139 |     await unitTypeTrigger.waitFor({ state: 'visible', timeout: 5000 })
    > 140 |     await sidebar.locator('#unit-type-select-trigger:not([class*="cursor-not-allowed"])').waitFor({ timeout: 5000 })
          |                                                                                           ^
      141 |     console.log('  âœ“ Unit type select is enabled')
      142 |     await unitTypeTrigger.click()
      143 |     console.log('  âœ“ Clicked unit type trigger')
        at /Users/joalves/git_tree/ext-dev6-refactor-sdk-plugin/tests/e2e/visual-editor-complete.spec.ts:140:91
        at /Users/joalves/git_tree/ext-dev6-refactor-sdk-plugin/tests/e2e/visual-editor-complete.spec.ts:106:5

  Slow test file: [chromium] â€º tests/e2e/visual-editor-complete.spec.ts (16.0m)
  Consider running tests from slow files in parallel. See: https://playwright.dev/docs/test-parallel
  1 failed
    [chromium] â€º tests/e2e/visual-editor-complete.spec.ts:81:7 â€º Visual Editor Complete Workflow â€º Complete workflow: sidebar â†’ experiment â†’ visual editor â†’ actions â†’ save â†’ verify 

To open last HTML report run:
[36m[39m
[36m  npx playwright show-report[39m
[36m[39m
